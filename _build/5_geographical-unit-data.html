---
redirect_from:
  - "/5-geographical-unit-data"
title: |-
  Generating geographical unit data
prev_page:
  url: /4_weighting-schemes.html
  title: |-
    Weighting schemes
next_page:
  url: /6_suggestions.html
  title: |-
    Suggestions for work organization
suffix: .md

comment: "***PROGRAMMATICALLY GENERATED, DO NOT EDIT. SEE ORIGINAL FILES IN /content***"
---

    <main class="jupyter-page">
    <div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="5.-Generating-geographical-unit-data">5. Generating geographical unit data<a class="anchor-link" href="#5.-Generating-geographical-unit-data"> </a></h1><p>Geographical units are necessary for conducting location-specific economic analyses. A geographical unit, area or region, is a portion of a country or other region delineated for the purpose of administration, and as such, it is a common unit for recording economic outcome data.  For example, a“city” is a local administrative unit where the majority of the population lives in an urban center, while the“greater city” is an approximation of the urban center beyond of the administrative city boundaries<a href="https://ec.europa.eu/eurostat/web/cities/spatial-units">[1]</a>.</p>
<p>Administrative units in economics analyses are typically politically defined regions, rather than regular grids, because socioeconomic data is collected and corresponding to the political regions. Besides, politically defined regions are also more relevant for policy-makers.</p>
<p>When generating an administrative unit, it is important to capture territory with homogeneous features that are relevant to the study. For example, if the weather is relevant for the study, the administrative unit should be homogeneous concerning mean temperature and precipitation<a href="https://bfi.uchicago.edu/wp-content/uploads/WP_2018-51_0.pdf">[2]</a>.</p>
<p>Administrative unit data can capture existing administrative units(high granularity) or groups of those units(lesser granularity). For example, the administrative unit database, <a href="https://gadm.org">Global Administrative Regions</a>, offers a granularity of 386,735 administrative areas for the entire world, that can be grouped according to the needs of a study.</p>
<h2 id="Finding-and-preparing-a-shapefile">Finding and preparing a shapefile<a class="anchor-link" href="#Finding-and-preparing-a-shapefile"> </a></h2><p>A shapefile stores nontopological geometry and attribute information for the spatial features in a data set. The geometry for a feature is stored as a shape comprising a set of vector coordinates. Shapefiles can support point, line, and area features. Area features are represented as closed loop, double-digitized polygons [technical guide]. The shapes together with data attributes linked to each shape create the representation of geographic data like countries, rivers and lakes.</p>
<p>Despite its name indicating a singular file, a shapefile is actually a collection of at least three basic files that need to be stored in the same directory to be used. The three mandatory files have filename extensions <code>.shp</code>, <code>.shx</code> and <code>.dbf</code>. There may be additional files like <code>.prj</code> with the shape file’s projection information. All files must have the same name, for example:</p>

<pre><code>states.shp
states.shx
states.dbf


</code></pre>
<p>Technical description for shapefiles can be found <a href="https://www.esri.com/library/whitepapers/pdfs/shapefile.pdf"><em>HERE</em></a></p>
<h2 id="Software">Software<a class="anchor-link" href="#Software"> </a></h2><p>The shapefile format is a commonly used to capture geospatial vector-data in geographic information system (GIS) software. QGIS is a free and open-source desktop geographic information system application that supports viewing, editing and analysis of geospatial data. ArcGIS is a proprietary software for working with maps and geographic data.</p>
<h2 id="Creating-shapefiles">Creating shapefiles<a class="anchor-link" href="#Creating-shapefiles"> </a></h2><p>Shapefiles can be created with these methods<a href="https://www.esri.com/library/whitepapers/pdfs/shapefile.pdf">[3]</a>:</p>
<ol>
<li>“Export to a shapefile” from programs like ARC/INFO, Spatial Database Engine, GIS, ArcView etc.</li>
<li>Digitize: shapefiles can be created directly by digitizing shapes using ArcView GIS feature creation tool</li>
<li>Programming: ArcView GIS, MapObjects allow you to create shapefiles within your programs, <strong>Matlab</strong></li>
</ol>
<h2 id="Working-with-shapefiles-from-python-and-R">Working with shapefiles from python and R<a class="anchor-link" href="#Working-with-shapefiles-from-python-and-R"> </a></h2><p>Shapefiles can be opened with Python packages like</p>
<ol>
<li><strong>Fiona</strong>,</li>
</ol>

<pre><code>import fiona
shape = fiona.open("my_shapefile.shp")
print shape.schema
{'geometry': 'LineString', 'properties': OrderedDict([(u'FID', 'float:11')])}


</code></pre>
<ol>
<li><strong>PyShp</strong> or</li>
</ol>

<pre><code>import shapefile
shape = shapefile.Reader("my_shapefile.shp")


</code></pre>
<ol>
<li><strong>geopandas</strong> (among other packages).</li>
</ol>

<pre><code>import geopandas as gpd
shapefile = gpd.read_file("/my_shapefile.shp")
print(shapefile)


</code></pre>
<p>Data analysis software R also supports working with spatial data. To read shape files you could use a package like <code>maptools</code>,  <code>rgdal</code> or <code>sf</code>.</p>

<pre><code>library(maptools)
shapefile=readShapePoly("/my_shapefile.shp")


</code></pre>
<ul>
<li>5b. Weighted aggregations within spatial units</li>
</ul>
<h2 id="Matching-names">Matching names<a class="anchor-link" href="#Matching-names"> </a></h2><p>It is often necessary to match names within two datasets with geographical unit observations. For example, a country’s statistics ministry may report values by administrative unit, but to find out the actual spatial extent of those units, you may need to use the GADM shapefiles.</p>
<p>Matching observations by name can be annoyingly time-consuming. These problems even exist at the level of countries, where, for example, North Korea is regularly listed as “Democratic People's Republic of Korea”, “Korea, North”, and “Korea, Dem. Rep.”; and information is indiscriminately reported for isolated regions or sovereign states (Guadeloupe’s data may or may not be included in France). Reporting units may not correspond to standard administrative units at all, and you will need to aggregate or disaggregate regions to match between datasets.</p>
<p>Here are some suggestions for dealing with the mess that is political geography:</p>
<p>First, try to perform all merging on abbreviation codes rather than names. At the level of countries, use <a href="https://www.nationsonline.org/oneworld/country_code_list.htm">ISO alpha-3 codes</a> if possible.</p>
<p>Second, use fuzzy string matching. However, in this case you will need to inspect all of the matches to make sure that they are correct.</p>
<p>Third, construct “translation functions” for each dataset, which map the regional names in that dataset to a canonical list of region names. I usually choose the names in one dataset as my canonical list, and name the matching functions as <code>&lt;dataset&gt;2canonical</code> and <code>canonical2&lt;dataset2&gt;</code>.</p>

</div>
</div>
</div>
</div>

 


    </main>
    