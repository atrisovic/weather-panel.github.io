
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Using Weather and Climate Data</title>
    
  <link rel="stylesheet" href="../_static/css/index.73d71520a4ca3b99cfee5594769eaaae.css">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      
  <link rel="stylesheet"
    href="../_static/vendor/open-sans_all/1.44.1/index.css">
  <link rel="stylesheet"
    href="../_static/vendor/lato_latin-ext/1.44.1/index.css">

    
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/sphinx-book-theme.40e2e510f6b7d1648584402491bb10fe.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.3da636dd464baa7582d2.js">

    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.d31b09fe5c1d09cb49b26a786de4a05d.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="How to Start Working with a Data Product" href="working-with-data-product.html" />
    <link rel="prev" title="Introduction to the Tutorial" href="getting-started.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />



  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="../index.html">
  
  <img src="../_static/climate_estimate_logo.png" class="logo" alt="logo">
  
  
</a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>
<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
    <ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="getting-started.html">
   Introduction to the Tutorial
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Weather and Climate Data
 </span>
</p>
<ul class="current nav sidenav_l1">
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Using Weather and Climate Data
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="working-with-data-product.html">
   How to Start Working with a Data Product
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="example-step1.html">
   Weather Mortality in the United States, Step 1: Preparing the Weather Data
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Developing a reduced-form specification
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="reduced-form-specification.html">
   Developing a reduced-form specification
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="functional-forms.html">
   Functional forms: pros, cons, and methods
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="example-step2.html">
   Weather Mortality in the United States, Step 2: Understanding the outcomes
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Geographical unit data
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="geographical-unit-data.html">
   Generating geographical unit data
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="working-with-shapefiles.html">
   Constructing weather averages within spatial units
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="weighting-schemes.html">
   Weighting schemes
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="example-step3.html">
   Weather Mortality in the United States, Step 3: Aggregating the data
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Suggestions for work organization
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="suggestions.html">
   Suggestions for work organization
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="example-step4.html">
   Weather Mortality in the United States, Step 4: Producing results
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Contributors
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="contributors.html">
   Contributors
  </a>
 </li>
</ul>

</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="row topbar fixed-top container-xl">
    <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show">
    </div>
    <div class="col pl-2 topbar-main">
        
        <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
            data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
            aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
            title="Toggle navigation" data-toggle="tooltip" data-placement="left">
            <i class="fas fa-bars"></i>
            <i class="fas fa-arrow-left"></i>
            <i class="fas fa-arrow-up"></i>
        </button>
        
        
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/content/weather-and-climate-data.md"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.md</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

        <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/atrisovic/weather-panel.github.io/"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/atrisovic/weather-panel.github.io//issues/new?title=Issue%20on%20page%20%2Fcontent/weather-and-climate-data.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        <a class="edit-button" href="https://github.com/atrisovic/weather-panel.github.io/edit/master/content/weather-and-climate-data.md"><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Edit this page"><i class="fas fa-pencil-alt"></i>suggest edit</button></a>
    </div>
</div>


        <!-- Full screen (wrap in <a> to have style consistency -->
        <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
                data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
                title="Fullscreen mode"><i
                    class="fas fa-expand"></i></button></a>

        <!-- Launch buttons -->

    </div>

    <!-- Table of contents -->
    <div class="d-none d-md-block col-md-2 bd-toc show">
        
        <div class="tocsection onthispage pt-5 pb-3">
            <i class="fas fa-list"></i> Contents
        </div>
        <nav id="bd-toc-nav">
            <ul class="nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#the-netcdf-data-format">
   The NetCDF Data Format
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#supported-languages">
     Supported Languages
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#netcdf-contents">
     NetCDF Contents
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#netcdf-file-organization">
     NetCDF File Organization
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#the-netcdf-header">
     The NetCDF Header
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#attributes">
     Attributes
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#reading-netcdf-data">
     Reading NetCDF data
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#diagnostic-maps-of-climate-data">
     Diagnostic Maps of Climate Data
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#gridded-data">
   Gridded Data
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#weather-data-products">
   Weather Data Products
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#observational-interpolated-datasets">
     “Observational” / Interpolated Datasets
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#reanalysis-datasets">
     Reanalysis Datasets
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#regional-datasets">
     Regional Datasets
    </a>
   </li>
  </ul>
 </li>
</ul>

        </nav>
        
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="using-weather-and-climate-data">
<h1>Using Weather and Climate Data<a class="headerlink" href="#using-weather-and-climate-data" title="Permalink to this headline">¶</a></h1>
<div class="note admonition">
<p class="admonition-title">Key objectives and decision points</p>
<p>Objectives:</p>
<ul class="simple">
<li><p>Understand how to work with data in the NetCDF format in your preferred language.</p></li>
<li><p>Understand the differences between reanalysis and interpolated data products.</p></li>
<li><p>Learn how to find information evaluating these data products for the variables and regions that are relevant for your work.</p></li>
<li><p>Learn how to identify major uncertainties inherent to different types of weather data products.</p></li>
</ul>
<p>Decision points:</p>
<ul class="simple">
<li><p>How to choose climate or weather data to use in your research project?</p></li>
</ul>
</div>
<p>This section will introduce you to the right questions to ask when deciding on climate or weather data to use in your research. It will cover how to deal with a commonly used weather and climate data format in multiple languages, understanding the differences between gridded weather data products, finding evaluations of weather data products, examples on how to do download several different weather data products, and a few warnings on common biases in weather data, especially precipitation.</p>
<p>When using weather data as independent variables in an economic model, or climate data to project your research results into the future, please keep in mind that:</p>
<ul class="simple">
<li><p>There is no universally <em>right</em> or <em>correct</em> weather or climate data product.</p></li>
<li><p>Every weather or climate data product has its use cases, limitations, uncertainties, and quirks.</p></li>
</ul>
<div class="section" id="the-netcdf-data-format">
<h2>The NetCDF Data Format<a class="headerlink" href="#the-netcdf-data-format" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference external" href="https://climatedataguide.ucar.edu/climate-data-tools-and-analysis/NetCDF-overview">NetCDF</a> format is a common data format used for weather and climate data. Most weather and climate datasets will be published primarily or additionally in the NetCDF format. It’s efficient, self-describing, and supported by any major programming language, though you’ll have to pre-process data into another format (.csv, etc.) before you can use it in STATA. If you get familiar with the commands to read the header and access data in the language you’re most comfortable with, you will be able to work with most climate or weather datasets published in the world.</p>
<div class="section" id="supported-languages">
<h3>Supported Languages<a class="headerlink" href="#supported-languages" title="Permalink to this headline">¶</a></h3>
<p>Through this section, we introduce relevant commands whenever possible for the following languages and packages:</p>
<div class="tabbed-set docutils">
<input checked="checked" id="aa62c019-ce50-4a5a-aff6-24810c36c261" name="786a9d73-6abc-47bb-9744-167107251637" type="radio">
</input><label class="tabbed-label" for="aa62c019-ce50-4a5a-aff6-24810c36c261">
Python (xarray)</label><div class="tabbed-content docutils">
<p><a class="reference external" href="http://xarray.pydata.org/en/stable/"><code class="docutils literal notranslate"><span class="pre">xarray</span></code></a> (recommended) is a package for working with N-dimensional data that natively supports NetCDF files.</p>
<p>For any Python (xarray) code chunks, it’s assumed that the <code class="docutils literal notranslate"><span class="pre">xarray</span></code> package is loaded as <code class="docutils literal notranslate"><span class="pre">xr</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">xarray</span> <span class="k">as</span> <span class="nn">xr</span>
</pre></div>
</div>
</div>
<input id="e50e2dff-496e-4069-aed7-6636aaa5f80e" name="786a9d73-6abc-47bb-9744-167107251637" type="radio">
</input><label class="tabbed-label" for="e50e2dff-496e-4069-aed7-6636aaa5f80e">
Matlab</label><div class="tabbed-content docutils">
<p>MATLAB has native support for working with N-dimensional data.</p>
</div>
<input id="4256be05-5b68-45f5-9405-db81749040a5" name="786a9d73-6abc-47bb-9744-167107251637" type="radio">
</input><label class="tabbed-label" for="4256be05-5b68-45f5-9405-db81749040a5">
R</label><div class="tabbed-content docutils">
<p>Support through the <a class="reference external" href="https://cran.r-project.org/web/packages/ncdf4/index.html">ncdf4</a> package.</p>
<p>For any R code chunks, it’s assumed the <code class="docutils literal notranslate"><span class="pre">ncdf4</span></code> package is loaded with:</p>
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="nf">library</span><span class="p">(</span><span class="n">ncdf4</span><span class="p">)</span>
</pre></div>
</div>
</div>
<input id="17570e64-8c2a-49fc-b392-1f4b05703e66" name="786a9d73-6abc-47bb-9744-167107251637" type="radio">
</input><label class="tabbed-label" for="17570e64-8c2a-49fc-b392-1f4b05703e66">
Python (NetCDF4)</label><div class="tabbed-content docutils">
<p>Support through the <a class="reference external" href="https://unidata.github.io/netcdf4-python/netCDF4/index.html">netCDF4</a> module.</p>
<p>For any Python (NetCDF4) code chunks, it’s assumed that the <code class="docutils literal notranslate"><span class="pre">NetCDF4</span></code> package is loaded as <code class="docutils literal notranslate"><span class="pre">nc</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">netCDF4</span> <span class="k">as</span> <span class="nn">nc</span>
</pre></div>
</div>
</div>
<input id="adacd9ca-81ee-4f7b-897e-9ac78aacbd5b" name="786a9d73-6abc-47bb-9744-167107251637" type="radio">
</input><label class="tabbed-label" for="adacd9ca-81ee-4f7b-897e-9ac78aacbd5b">
nco</label><div class="tabbed-content docutils">
<p><a class="reference external" href="http://nco.sourceforge.net">nco</a> (“NetCDF operators”) - it is a series of command-line tools to check the contents of a file, collate different NetCDF files, and extract individual variables without having to go through a full language. Here are a few important commands:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ncview</span></code> (to display spatial data),</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ncks</span></code> (“nc kitchen sink” - to split or concatenate files command line), and</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ncdump</span></code> (to print contents of the file).</p></li>
</ul>
</div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>If you know several of the languages referred to in this tutorial and just want our opinion on which one to use, we suggest:</p>
<ul class="simple">
<li><p>Python (<code class="docutils literal notranslate"><span class="pre">xarray</span></code>): if you want tools specifically designed for modern uses of weather/climate data that do much of the annoying background work (dealing with different file structures, variable names, date formats, etc.) for you, at the expense of less flexibility for uncommon needs</p></li>
<li><p>MATLAB: if you like a simple, bare-bones treatment of data where you are in explicit control of everything that happens, at the expense of having to be more careful with pre-processing and backend management.</p></li>
</ul>
</div>
</div>
<div class="section" id="netcdf-contents">
<h3>NetCDF Contents<a class="headerlink" href="#netcdf-contents" title="Permalink to this headline">¶</a></h3>
<p>The core function of NetCDF files is to store arrays. These arrays may have one dimension (e.g., a vector of years), two dimensions (e.g., elevation across space), three dimensions (e.g., weather varying across space and time), or more. The other contents of the file help you to interpret these arrays.</p>
<p>NetCDF files have three kinds of information:</p>
<ul class="simple">
<li><p><em>Attribute</em>: Documentation information, associated to either individual variables or the file as a whole. Each attribute has a name (e.g., <code class="docutils literal notranslate"><span class="pre">version</span></code>) and text content (e.g., “Someone to Lean On”).</p></li>
<li><p><em>Variables</em>: The arrays themselves, containing the data you want. Each array has an order of dimensions. For a two-dimensional array, the first dimension corresponds to the rows and the second dimension to the columns.</p></li>
<li><p><em>Dimensions</em>: The dimensions information in a NetCDF says how many entries are in each dimension. For example, a file containing a 1-degree grid over the world would typically lave a <code class="docutils literal notranslate"><span class="pre">lon</span></code> dimension of length 360 and a <code class="docutils literal notranslate"><span class="pre">lat</span></code> dimension with length 180.</p></li>
</ul>
<p>Typically, there will be variables that correspond to each of the dimensions, and sometimes these will have the same name as the dimension objects. These variables give you the value of each index in the dimension. For example, if there is a <code class="docutils literal notranslate"><span class="pre">lon</span></code> dimension with length 360, there will usually be a <code class="docutils literal notranslate"><span class="pre">lon</span></code> or <code class="docutils literal notranslate"><span class="pre">longitude</span></code> variable, which is an array with the single <code class="docutils literal notranslate"><span class="pre">lon</span></code> dimension, and its contents would look something like <code class="docutils literal notranslate"><span class="pre">[-179.5,</span> <span class="pre">-178.5,</span> <span class="pre">-177.5,</span> <span class="pre">...,</span> <span class="pre">179.5]</span></code>.</p>
</div>
<div class="section" id="netcdf-file-organization">
<h3>NetCDF File Organization<a class="headerlink" href="#netcdf-file-organization" title="Permalink to this headline">¶</a></h3>
<p>The NetCDF file structure is self-describing, meaning all the information you need to understand what data are within are contained within the file as well (in theory). <em>However</em>, the format doesn’t require any information be put there, so names of attributes, which attributes are included, etc., may vary between files, especially if they’re ‘unofficial’ files not created by a major modeling group as part of a larger project.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Some data you will be facing has standardized to something akin to the format used by CMIP output (a ‘model intercomparison project’ in which different modeling groups agreed to run their models on identical climate ‘experiments’ and publish their data in a uniform format; CMIP6 is the latest generation of the largest ‘MIP’, analysis of which makes up a substantial portion of IPCC reports).</p>
<p>For example, climate data you will encounter will generally follow a CMIP5 filename format, of the form:</p>
<p><code class="docutils literal notranslate"><span class="pre">[variable</span> <span class="pre">shorthand]_[frequency]_[model</span> <span class="pre">name]_[experiment]_[run]_[timeframe].nc</span></code></p>
<p>or a CMIP6 filename format, of the form:</p>
<p><code class="docutils literal notranslate"><span class="pre">[variable</span> <span class="pre">shorthand]_[frequency]_[model</span> <span class="pre">name]_[experiment]_[run]_[grid</span> <span class="pre">label]_[timeframe].nc</span></code></p>
<p>(This terminology will also be useful to recognize even when filenames are not of this format, as is likely for weather data products.)</p>
<ul class="simple">
<li><p>most commonly encountered <strong>variable shorthands:</strong></p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">tas</span></code> = temperature; “[air] temperature at surface,” which is different from “surface temperature” (the temperature of the ground) or temperature at other heights. Sometimes also listed as <code class="docutils literal notranslate"><span class="pre">t2m</span></code> for 2m air temperature or <code class="docutils literal notranslate"><span class="pre">TREFHT</span></code> for reference height temperature. (Always assumed to be taken a few feet off the ground to avoid confusing air temperature with excess heat released by the ground)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pr</span></code> = precipitation rate</p></li>
</ul>
</li>
<li><p><strong>frequency</strong>: e.g. <em>day</em> for daily</p></li>
<li><p><strong>experiment</strong>: some descriptor of the forcing (e.g., profile of greenhouse gases) uses, e.g., <em>rcp85</em> for the RCP8.5 scenario frequently used in projections.</p></li>
<li><p><strong>run</strong>: if the same model was run multiple times with the same forcing, but different physics or initial conditions, it will be noted here (e.g. <em>r1i1p1</em>). Don’t worry about this.</p></li>
<li><p><strong>grid label</strong>: whether data was regridded from the model’s native grid</p></li>
<li><p><strong>timeframe</strong>: frequently in <code class="docutils literal notranslate"><span class="pre">yyyymmdd-yyyymmdd</span></code> format.</p></li>
</ul>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>For more information on “CMIP5” and “CMIP6” terminology, see: <a class="reference external" href="https://pcmdi.llnl.gov/CMIP6/Guide/dataUsers.html">CMIP6 Guidance for Data Users</a> or the <a class="reference external" href="https://pcmdi.llnl.gov/mips/cmip5/requirements.html">CMIP5 Standard Output</a>.</p>
</div>
</div>
<p>There are two common ways in which data is stored in NetCDF files:</p>
<ul class="simple">
<li><p>variables: each file contains a single variable over the whole (or a large chunk) of the time domain</p></li>
<li><p>time slices: each file contains a single timestep with a suite of variables</p></li>
<li><p>combination: file contains many variables over a large time domain (rare due to size constraints)</p></li>
</ul>
<p>To figure out which file saving convention your NetCDF file uses, and what is contained, you can check the header of the file:</p>
</div>
<div class="section" id="the-netcdf-header">
<h3>The NetCDF Header<a class="headerlink" href="#the-netcdf-header" title="Permalink to this headline">¶</a></h3>
<p>NetCDF files are self-describing, meaning that they contain information about the data contained within. Every NetCDF file has a header that describes these contents. This will often be the first aspect of the file you look at, to verify the file has the variables you need, in what order the dimensions of the variables are stored, etc. Here are the commands to print the header for NetCDF filename <code class="docutils literal notranslate"><span class="pre">fn</span></code>, for each mentioned tool above:</p>
<div class="tabbed-set docutils">
<input checked="checked" id="5b2c84da-5d8f-4fc4-93a3-533ff63eed36" name="310938ea-b335-46cb-8ec5-1c1172d232f0" type="radio">
</input><label class="tabbed-label" for="5b2c84da-5d8f-4fc4-93a3-533ff63eed36">
Python (xarray)</label><div class="tabbed-content docutils">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ds</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">open_dataset</span><span class="p">(</span><span class="n">fn</span><span class="p">)</span>
<span class="n">ds</span>
</pre></div>
</div>
</div>
<input id="4032d40c-6559-46b8-a961-a3e20f86a18b" name="310938ea-b335-46cb-8ec5-1c1172d232f0" type="radio">
</input><label class="tabbed-label" for="4032d40c-6559-46b8-a961-a3e20f86a18b">
Matlab</label><div class="tabbed-content docutils">
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="n">ncdisp</span><span class="p">(</span><span class="n">fn</span><span class="p">)</span>
</pre></div>
</div>
</div>
<input id="9f8d369a-edb8-49b5-9436-02f6da01a8a5" name="310938ea-b335-46cb-8ec5-1c1172d232f0" type="radio">
</input><label class="tabbed-label" for="9f8d369a-edb8-49b5-9436-02f6da01a8a5">
R</label><div class="tabbed-content docutils">
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="n">ncfile</span> <span class="o">&lt;-</span> <span class="nf">nc_open</span><span class="p">(</span><span class="n">fn</span><span class="p">)</span>
<span class="n">ncfile</span>
</pre></div>
</div>
</div>
<input id="8f0e35d0-1c7d-415d-a764-bba95d007888" name="310938ea-b335-46cb-8ec5-1c1172d232f0" type="radio">
</input><label class="tabbed-label" for="8f0e35d0-1c7d-415d-a764-bba95d007888">
Python (NetCDF4)</label><div class="tabbed-content docutils">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ds</span> <span class="o">=</span> <span class="n">nc</span><span class="o">.</span><span class="n">Dataset</span><span class="p">(</span><span class="n">fn</span><span class="p">)</span>
<span class="n">ds</span>
</pre></div>
</div>
</div>
<input id="c668f35e-2f13-492c-a8e3-2f26434740b6" name="310938ea-b335-46cb-8ec5-1c1172d232f0" type="radio">
</input><label class="tabbed-label" for="c668f35e-2f13-492c-a8e3-2f26434740b6">
nco</label><div class="tabbed-content docutils">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># </span>
<span class="n">ncdump</span> <span class="o">-</span><span class="n">h</span> <span class="n">fn</span>
</pre></div>
</div>
</div>
</div>
<p>The header will open with ‘global attributes,’ which are just text fields that primarily tell you housekeeping information (modeling groups, copyright information, etc.). Then, for each variable contained within the file, the header will tell you what dimensions they contain and their respective sizes, plus variable-specific attributes, like units.</p>
<p>Use the header to check what your desired variable is called, and what dimensions it has. For a variable-focused NetCDF file (see above), the dimensions will likely be <code class="docutils literal notranslate"><span class="pre">lon,lat,time</span></code> (though always verify - some will save their data with the <code class="docutils literal notranslate"><span class="pre">time</span></code> variable first and non-gridded data may be saved as <code class="docutils literal notranslate"><span class="pre">location,time</span></code>). The file will also contain populated variables for each of these dimensions, giving the values of <code class="docutils literal notranslate"><span class="pre">lon,lat,time</span></code>  at each point (be aware - for non-rectangular grids, the <em>variables</em> <code class="docutils literal notranslate"><span class="pre">lon</span></code> and <code class="docutils literal notranslate"><span class="pre">lat</span></code> may each be 2-D arrays as well). If you are using <code class="docutils literal notranslate"><span class="pre">xarray</span></code> in python, <code class="docutils literal notranslate"><span class="pre">xr.open_dataset()</span></code> will usually be able to tell which dimensions are time, lon, lat for plotting purposes without any additional specification.</p>
</div>
<div class="section" id="attributes">
<h3>Attributes<a class="headerlink" href="#attributes" title="Permalink to this headline">¶</a></h3>
<p>Here are some important common “attributes” of NetCDF files or variables:</p>
<ul class="simple">
<li><p><strong>Calendar</strong> - probably the most important and inconsistent attribute for climate data (for historical ‘weather’ data products, one would hope it just follows the Gregorian calendar). Either global, or attached to the “record-keeping dimension” (<code class="docutils literal notranslate"><span class="pre">time</span></code> ). Common formats include</p>
<ul>
<li><p><em>365_day</em> / <em>noleap</em> / <em>365day</em> / <em>no_leap</em> / etc. - the years are magically shortened so they all have 365 days (most common for climate data)</p></li>
<li><p><em>gregorian</em> / <em>proleptic_gregorian</em> - modern calendar with leap years</p></li>
<li><p><em>360_day</em> - rare calendar in which the year has 360 days (so all months have equal lengths). To my knowledge, the Hadley Model is the only major recent model to use this, but be aware of its existence.</p></li>
</ul>
</li>
<li><p><strong>Units</strong> - generally attached to the variable in question. Common variable units:</p>
<ul>
<li><p><em>Temperature</em> - almost always in Kelvin</p></li>
<li><p><em>Precipitation</em> - often in <em>kg/m^2s</em>, which is the SI unit for precipitation rate (volume per time). Multiply by 3600 to get mm/hour, or 141.7323 to get in/hour (the density of water is 1000 kg/m^3, multiplying by the density calculates the rate in m/s, or depth/time - the rest is just accounting to your desired units of depth and time).</p></li>
</ul>
</li>
<li><p><strong>Missing / Fill Value</strong> - if there are some absurdly high or low values in your data, you may want to check if those just represent the missing / fill value, a common sub-attribute of variables. Data may also be stored in <a class="reference external" href="https://currents.soest.hawaii.edu/ocn_data_analysis/_static/masked_arrays.html">“masked arrays”</a>.</p></li>
</ul>
</div>
<div class="section" id="reading-netcdf-data">
<h3>Reading NetCDF data<a class="headerlink" href="#reading-netcdf-data" title="Permalink to this headline">¶</a></h3>
<p>NetCDF files can be easily imported as numeric data in any language. Here are some common ways, for the variable <code class="docutils literal notranslate"><span class="pre">var</span></code>:</p>
<div class="tabbed-set docutils">
<input checked="checked" id="db6fe228-9c2a-438f-9ba8-9cddd4fc5d5c" name="eeafb9d5-a8e1-4fda-a636-7f948fb958c0" type="radio">
</input><label class="tabbed-label" for="db6fe228-9c2a-438f-9ba8-9cddd4fc5d5c">
Python (xarray)</label><div class="tabbed-content docutils">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ds</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">open_dataset</span><span class="p">(</span><span class="n">fn</span><span class="p">)</span>
<span class="n">ds</span><span class="o">.</span><span class="n">var</span>
</pre></div>
</div>
<p>Data is loaded slowly and only fully loaded when calculations are done - to force loading, run <code class="docutils literal notranslate"><span class="pre">ds.load()</span></code></p>
</div>
<input id="648f73a8-9cc9-48ad-b605-4251377250ce" name="eeafb9d5-a8e1-4fda-a636-7f948fb958c0" type="radio">
</input><label class="tabbed-label" for="648f73a8-9cc9-48ad-b605-4251377250ce">
Matlab</label><div class="tabbed-content docutils">
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="n">ncread</span><span class="p">(</span><span class="n">fn</span><span class="p">,</span><span class="n">var</span><span class="p">);</span>
</pre></div>
</div>
</div>
<input id="d6afc5d1-9354-4849-a373-cd88bd65ef96" name="eeafb9d5-a8e1-4fda-a636-7f948fb958c0" type="radio">
</input><label class="tabbed-label" for="d6afc5d1-9354-4849-a373-cd88bd65ef96">
R</label><div class="tabbed-content docutils">
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="n">ncfile</span> <span class="o">&lt;-</span> <span class="nf">nc_open</span><span class="p">(</span><span class="n">fn</span><span class="p">)</span>
<span class="n">var</span> <span class="o">&lt;-</span> <span class="nf">ncvar_get</span><span class="p">(</span><span class="n">ncfile</span><span class="p">,</span><span class="s">&#39;var&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<input id="eb9e8210-10f3-4f4c-b6b6-76d3d3b12ef9" name="eeafb9d5-a8e1-4fda-a636-7f948fb958c0" type="radio">
</input><label class="tabbed-label" for="eb9e8210-10f3-4f4c-b6b6-76d3d3b12ef9">
Python (NetCDF4)</label><div class="tabbed-content docutils">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ncf</span> <span class="o">=</span> <span class="n">nc</span><span class="o">.</span><span class="n">Dataset</span><span class="p">(</span><span class="n">fn</span><span class="p">)</span>
<span class="n">ncf</span><span class="o">.</span><span class="n">variables</span><span class="p">[</span><span class="s1">&#39;var&#39;</span><span class="p">][:]</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">ncf.variables[var]</span></code> will return a <code class="docutils literal notranslate"><span class="pre">float</span></code> object that keeps the attributes from the NetCDF file</p>
</div>
</div>
<p>You’ll often only want or need a subset of a variable. In this case, make sure you know in what order the dimensions of the variable are saved at (see above; unless you are working with <code class="docutils literal notranslate"><span class="pre">xarray</span></code>, which handles this for you. Check the docs.). Say, if you want only a 5 x 5 x 365 subset of the data, you’d use:</p>
<div class="tabbed-set docutils">
<input checked="checked" id="1a0ec7fc-c17d-4c4f-83ad-224b3e12fe5c" name="f8967f87-0e55-4ac3-abb1-1552712fa235" type="radio">
</input><label class="tabbed-label" for="1a0ec7fc-c17d-4c4f-83ad-224b3e12fe5c">
Python (xarray)</label><div class="tabbed-content docutils">
<p>Data is loaded slowly and only fully loaded when calculations are done, so you can slice data without loading it into memory. Slicing can be done by time, variable, etc.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ds</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">open_dataset</span><span class="p">(</span><span class="n">fn</span><span class="p">))</span>
<span class="n">ds</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span><span class="mi">0</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span><span class="mi">0</span><span class="p">:</span><span class="mi">365</span><span class="p">]</span>

<span class="c1"># or, if you know the dimension variables (e.g. lat, lon, time):</span>
<span class="n">ds</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">lat</span><span class="o">=</span><span class="nb">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span><span class="n">lon</span><span class="o">=</span><span class="nb">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span><span class="n">time</span><span class="o">=</span><span class="nb">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>

<span class="c1"># or, if you know the values of the dimensions you want (note &quot;sel&quot; vs. &quot;isel&quot;)</span>
<span class="n">ds</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">lat</span><span class="o">=</span><span class="nb">slice</span><span class="p">(</span><span class="mi">22</span><span class="p">,</span><span class="mi">53</span><span class="p">),</span><span class="n">lon</span><span class="o">=</span><span class="nb">slice</span><span class="p">(</span><span class="o">-</span><span class="mi">125</span><span class="p">,</span><span class="o">-</span><span class="mi">65</span><span class="p">),</span><span class="n">time</span><span class="o">=</span><span class="nb">slice</span><span class="p">(</span><span class="s1">&#39;1979-01-01&#39;</span><span class="p">,</span><span class="s1">&#39;2010-12-31&#39;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<input id="9454b71d-6b6a-4282-8cd3-34aedc643c17" name="f8967f87-0e55-4ac3-abb1-1552712fa235" type="radio">
</input><label class="tabbed-label" for="9454b71d-6b6a-4282-8cd3-34aedc643c17">
Matlab</label><div class="tabbed-content docutils">
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="c">% in the format ncread(filename,variable name,start idx,count)</span>
<span class="n">ncread</span><span class="p">(</span><span class="n">fn</span><span class="p">,</span><span class="n">var</span><span class="p">,[</span><span class="mi">1</span> <span class="mi">1</span> <span class="mi">1</span><span class="p">],[</span><span class="mi">5</span> <span class="mi">5</span> <span class="mi">365</span><span class="p">]);</span>
</pre></div>
</div>
</div>
<input id="6b7b7e09-5459-4341-9133-e7e72159f1bc" name="f8967f87-0e55-4ac3-abb1-1552712fa235" type="radio">
</input><label class="tabbed-label" for="6b7b7e09-5459-4341-9133-e7e72159f1bc">
R</label><div class="tabbed-content docutils">
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="n">ncfile</span> <span class="o">&lt;-</span> <span class="nf">nc_open</span><span class="p">(</span><span class="n">fn</span><span class="p">)</span>
<span class="n">vardata</span> <span class="o">&lt;-</span> <span class="nf">ncvar_get</span><span class="p">(</span><span class="n">ncfile</span><span class="p">,</span> <span class="n">var</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">1</span><span class="p">,</span><span class="m">1</span><span class="p">),</span> <span class="n">count</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="m">5</span><span class="p">,</span><span class="m">5</span><span class="p">,</span><span class="m">365</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<p>As mentioned above, these files also include populated variables that give values for indices along each dimension (<code class="docutils literal notranslate"><span class="pre">lon,</span> <span class="pre">lat</span></code> / <code class="docutils literal notranslate"><span class="pre">location</span></code> and <code class="docutils literal notranslate"><span class="pre">time</span></code>), which can be extracted like any other variable using the functions listed above. In some cases, these may be listed as <code class="docutils literal notranslate"><span class="pre">lat</span></code>, <code class="docutils literal notranslate"><span class="pre">latitude</span></code>, <code class="docutils literal notranslate"><span class="pre">Latitude</span></code>, <code class="docutils literal notranslate"><span class="pre">Lat</span></code>, <code class="docutils literal notranslate"><span class="pre">latitude_1</span></code>, <code class="docutils literal notranslate"><span class="pre">nav_lat</span></code>, and any number of other names. Therefore, make sure to first double-check the name of those dimensions in the NetCDF header. As mentioned, <code class="docutils literal notranslate"><span class="pre">xarray</span></code> has built-in methods for identifying the file’s dimensions, regardless of order, for plotting purposes.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">time</span></code> variable can also be listed in a few different formats. An integer representation of “days since [some date, often 1850-01-01]” is common, as is an integer representation of the form [YYYYMMDD], among others. The key is to always check the description of the variable in the header, and adjust your methods accordingly until it’s in a format you want it in. If you’re using python, the <code class="docutils literal notranslate"><span class="pre">xarray</span></code> package has the ability to interpret some of these time representations for you and translates them into the <code class="docutils literal notranslate"><span class="pre">datetime64</span></code> class, which makes some kinds of manipulation, like averaging over months, easier.</p>
</div>
<div class="section" id="diagnostic-maps-of-climate-data">
<h3>Diagnostic Maps of Climate Data<a class="headerlink" href="#diagnostic-maps-of-climate-data" title="Permalink to this headline">¶</a></h3>
<p>You may want to visualize your weather or climate data, either for internal diagnostics or for production figures showing your data. It’s generally good practice to double-check that your data downloaded and processed correctly, by making sure there aren’t suspiciously many NAs/NaNs, that the lat/lon grid matches up with where the data should go (first-order check: does your temperature/precipitation field trace out major land/ocean boundaries, etc.), and that the data is consistent. Here are easy ways to plot the first timestep of a gridded dataset:</p>
<div class="tabbed-set docutils">
<input checked="checked" id="d7a6421f-34fb-4da4-9799-4789a0d5feac" name="543215c7-8d82-4336-945f-7eaddb330135" type="radio">
</input><label class="tabbed-label" for="d7a6421f-34fb-4da4-9799-4789a0d5feac">
Python (xarray)</label><div class="tabbed-content docutils">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Assuming your variable is a 3-D (lat,lon,time, in any order) </span>
<span class="c1"># variable called &quot;tas&quot;, in a dataset loaded using </span>
<span class="c1"># ds = xr.open_dataset() as above. This will get you a </span>
<span class="c1"># &quot;QuadMesh&quot; image - just a heatmap of your data:</span>
<span class="n">ds</span><span class="o">.</span><span class="n">tas</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">time</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
<span class="c1"># (for the time mean, you can use ds.tas.mean(time).plot() </span>
<span class="c1"># similarly)</span>
    
<span class="c1">## Example with geographic information:</span>
<span class="kn">import</span> <span class="nn">cartopy.crs</span> <span class="k">as</span> <span class="nn">ccrs</span>    
<span class="c1"># (see resources below on why transforms/projections </span>
<span class="c1"># need to be explicitly noted)</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">axes</span><span class="p">(</span><span class="n">projection</span><span class="o">=</span><span class="n">ccrs</span><span class="o">.</span><span class="n">EckertIV</span><span class="p">()</span>
<span class="n">ds</span><span class="o">.</span><span class="n">tas</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">time</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">transform</span><span class="o">=</span><span class="n">ccrs</span><span class="o">.</span><span class="n">PlateCarree</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">coastlines</span><span class="p">()</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>For more information on plotting geographic data with <code class="docutils literal notranslate"><span class="pre">xarray</span></code> and <code class="docutils literal notranslate"><span class="pre">cartopy</span></code>, we highly recommend the <a class="reference external" href="https://earth-env-data-science.github.io/intro.html">“Earth and Environmental Science” with python guide</a>, especially the section on <a class="reference external" href="https://earth-env-data-science.github.io/lectures/mapping_cartopy.html%5D">“Making Maps with Cartopy”</a></p>
</div>
</div>
<input id="44a4fc92-4282-4c86-bc61-5af04357c8ac" name="543215c7-8d82-4336-945f-7eaddb330135" type="radio">
</input><label class="tabbed-label" for="44a4fc92-4282-4c86-bc61-5af04357c8ac">
Matlab</label><div class="tabbed-content docutils">
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="c">% Assuming your dataset is called &quot;tas&quot; (lon,lat,time)</span>
<span class="c">% This will just plot a heatmap of your data:</span>
<span class="n">pcolor</span><span class="p">(</span><span class="nb">squeeze</span><span class="p">(</span><span class="n">tas</span><span class="p">(:,:,</span><span class="mi">1</span><span class="p">)).</span><span class="o">&#39;</span><span class="p">);</span> <span class="n">shading</span> <span class="s">flat</span>

<span class="c">% Alternatively, with geographic information:</span>
<span class="n">axesm</span><span class="p">(</span><span class="s">&#39;eckert4&#39;</span><span class="p">)</span> <span class="c">% Set desired projection in the function call; i.e. &#39;eckert4&#39;</span>
<span class="n">pcolorm</span><span class="p">(</span><span class="n">lat</span><span class="p">,</span><span class="n">lon</span><span class="p">,</span><span class="nb">squeeze</span><span class="p">(</span><span class="n">tas</span><span class="p">(:,:,</span><span class="mi">1</span><span class="p">)).</span><span class="o">&#39;</span><span class="p">);</span> <span class="n">shading</span> <span class="s">flat</span> 
<span class="c">% coast.mat is included with Matlab installations; this will add coastlines. </span>
<span class="n">coasts</span><span class="p">=</span><span class="n">matfile</span><span class="p">(</span><span class="s">&#39;coast.mat&#39;</span><span class="p">)</span>
<span class="n">geoshow</span><span class="p">(</span><span class="n">coasts</span><span class="p">.</span><span class="n">lat</span><span class="p">,</span><span class="n">coasts</span><span class="p">.</span><span class="n">long</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="gridded-data">
<h2>Gridded Data<a class="headerlink" href="#gridded-data" title="Permalink to this headline">¶</a></h2>
<p>Weather data is traditionally collected at weather stations. Weather stations are imperfect, unevenly distributed point sources of data whose raw output may not be suitable for economic and policy applications. Weather stations are more likely to be located in wealthier and more populated areas, which makes them less useful for work in developing countries or for non-human variables such as agriculture. Their number and coverage constantly changes, making it difficult to weigh or to compare across regions. Despite being the most accurate tool for measuring the current weather at their location, they may hide microclimates nearby.</p>
<p>Thankfully, a large suite of data products have been developed to mitigate these issues. These generally consist of combining or ‘assimilating’ many data sources and analysis method into a ‘gridded dataset’ - the earth is divided into a latitude x longitude (x height) grid, and one value for a variable (temperature, precipitation, etc.) is provided at each gridpoint and timestep. These data products generally cover either the whole globe (or all global land), or are specialized to a certain region, and provide consistent coverage at each grid point location.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Some variables, especially relating to hydrology, may be better suited to station data, by providing single values for large regions such as river basins</p>
</div>
<p>However, since the world is not made up of grids (i.e. the world is not broken up into 50 x 50 km chunks, within which all weather conditions are identical), some processing has to be done even for historical “weather” data, and other limitations arise. For historical data, this processing is one of the sources of differences between data products, and for climate data, the simulation of sub-grid processes is the greatest source of uncertainty between models.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Keep in mind that just because a dataset exists at a certain resolution, does not mean it is accurate at that resolution!</p>
</div>
<p>The next section will briefly introduce how these products are generated, how to choose between them, and best practices for using “historical” data.</p>
</div>
<div class="section" id="weather-data-products">
<h2>Weather Data Products<a class="headerlink" href="#weather-data-products" title="Permalink to this headline">¶</a></h2>
<p><strong>The Interpolation - Reanalysis Spectrum:</strong>
Historical data products differ by how they <a class="reference external" href="https://climatedataguide.ucar.edu/climate-data/atmospheric-reanalysis-overview-comparison-tables">“assimilate”</a> (join observational with model data) or combine data, and how much “additional” information is added beyond (pre-processed) station data. They can be thought of as a rough spectrum ranging from ‘observational’ data products that merely statistically interpolate data into a grid to ‘reanalysis’ products that feed data products into a sort of climate model to produce a more complete set of variables. Some datasets are observational but include topographic and other physical information in their statistical methods, while some reanalysis datasets use pure model output for only some variables.</p>
<p>Both ends of their spectrum have tradeoffs, and generalizable statements about these tradeoffs are hard to make because of differences in methodologies. The following are a few simplified rules of thumb:</p>
<div class="section" id="observational-interpolated-datasets">
<h3>“Observational” / Interpolated Datasets<a class="headerlink" href="#observational-interpolated-datasets" title="Permalink to this headline">¶</a></h3>
<p>Examples: GISTEMP, GHCN, Wilmot and Matsuura (aka “UDel”), Berkeley Earth (aka “BEST”), HadCrut4, PRISM, CHIRPS, etc.</p>
<ul class="simple">
<li><p>Observations are statistically interpolated into a grid with little or no physical information added (though topography and - less commonly - wind speed are occasionally included)</p></li>
<li><p>Products generally differ by which stations or other data sources are included and excluded</p></li>
</ul>
<div class="sphinx-bs container pb-4 docutils">
<div class="row docutils">
<div class="d-flex col-lg-6 col-md-6 col-sm-6 col-xs-12 p-2 docutils">
<div class="card w-100 shadow docutils">
<div class="card-header docutils">
<p class="card-text">Strengths</p>
</div>
<div class="card-body docutils">
<ul class="simple">
<li><p class="card-text">Simple, biases well-understood</p></li>
<li><p class="card-text">High correlation with source station data in areas with strong station coverage</p></li>
</ul>
</div>
</div>
</div>
<div class="d-flex col-lg-6 col-md-6 col-sm-6 col-xs-12 p-2 docutils">
<div class="card w-100 shadow docutils">
<div class="card-header docutils">
<p class="card-text">Weaknesses</p>
</div>
<div class="card-body docutils">
<ul class="simple">
<li><p class="card-text">Less realistic outside areas with strong station coverage</p></li>
<li><p class="card-text">Statistical interpolation means data not bound by physicality</p></li>
<li><p class="card-text">Often only available at lower temporal resolution (e.g. monthly)</p></li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>See also UCAR’s Model Data Guide <a class="reference external" href="https://climatedataguide.ucar.edu/climate-data/global-temperature-data-sets-overview-comparison-table">summary</a> on temperature datasets.</p>
</div>
</div>
<div class="section" id="reanalysis-datasets">
<h3>Reanalysis Datasets<a class="headerlink" href="#reanalysis-datasets" title="Permalink to this headline">¶</a></h3>
<p>Examples: ERA-INTERIM, ERA5, JRA-55, MERRA-2, NCEP2 (outdated), etc.</p>
<ul class="simple">
<li><p>Observational data are combined with climate models to produce a full set of atmospheric variables</p></li>
<li><p>Products differ by what data is included (as with interpolated datasets), but now also differ by which underlying models are used</p></li>
</ul>
<div class="sphinx-bs container pb-4 docutils">
<div class="row docutils">
<div class="d-flex col-lg-6 col-md-6 col-sm-6 col-xs-12 p-2 docutils">
<div class="card w-100 shadow docutils">
<div class="card-header docutils">
<p class="card-text">Strengths</p>
</div>
<div class="card-body docutils">
<ul class="simple">
<li><p class="card-text">Large extant literature on most major reanalysis products; limitations are generally well-understood (though not always well-estimated; and biases are often tested against interpolated datasets)</p></li>
<li><p class="card-text">Coverage in areas with low station coverage (generally poorer or less populated areas) is more physically reasonable</p></li>
<li><p class="card-text">Covers a large number of variables (though uncertainties differ between them)</p></li>
</ul>
</div>
</div>
</div>
<div class="d-flex col-lg-6 col-md-6 col-sm-6 col-xs-12 p-2 docutils">
<div class="card w-100 shadow docutils">
<div class="card-header docutils">
<p class="card-text">Weaknesses</p>
</div>
<div class="card-body docutils">
<ul class="simple">
<li><p class="card-text">Limited by often significant biases in underlying models that may or may not be well understood</p></li>
<li><p class="card-text">Accuracy in areas of high station density may be lower than in interpolated products</p></li>
<li><p class="card-text">Not fully physical either - laws of conservation e.g. are often relaxed</p></li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>See also UCAR’s Model Data Guide <a class="reference external" href="https://climatedataguide.ucar.edu/climate-data/atmospheric-reanalysis-overview-comparison-tables">summary</a> on reanalyses.</p>
</div>
</div>
<div class="section" id="regional-datasets">
<h3>Regional Datasets<a class="headerlink" href="#regional-datasets" title="Permalink to this headline">¶</a></h3>
<p>Observational datasets exist with both global coverage (e.g. GISTEMP, HadCRUT, etc.) or regional coverage (e.g. PRISM in North America, TRMM in the tropics, etc.). Global datasets attempt to build a self-consistent database spanning the whole globe, and are therefore more likely to have sparser data coverage in specific regions - both as a logistical limitation, but also to ensure data pre-processing is as standardized as possible. Regional datasets may provide higher-resolution coverage and more specialized methodologies by incorporating local climatological knowledge or data sources that are not publicly available or parsable by global datasets (see e.g. the discussion in <a class="reference external" href="http://www.sciencedirect.com/science/article/pii/B9780128159989000075">Dinku et al. 2019</a>).</p>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./content"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        </div>
    </div>
    
    
    <div class='prev-next-bottom'>
        
    <a class='left-prev' id="prev-link" href="getting-started.html" title="previous page">Introduction to the Tutorial</a>
    <a class='right-next' id="next-link" href="working-with-data-product.html" title="next page">How to Start Working with a Data Product</a>

    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
            &copy; Copyright 2020.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    
  <script src="../_static/js/index.3da636dd464baa7582d2.js"></script>


    
  </body>
</html>