
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Hands-On Exercise, Step 2: Understanding the outcomes</title>
    
  <link rel="stylesheet" href="../_static/css/index.73d71520a4ca3b99cfee5594769eaaae.css">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      
  <link rel="stylesheet"
    href="../_static/vendor/open-sans_all/1.44.1/index.css">
  <link rel="stylesheet"
    href="../_static/vendor/lato_latin-ext/1.44.1/index.css">

    
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/sphinx-book-theme.40e2e510f6b7d1648584402491bb10fe.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.3da636dd464baa7582d2.js">

    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.d31b09fe5c1d09cb49b26a786de4a05d.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.png"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Generating geographical unit data" href="geographical-unit-data.html" />
    <link rel="prev" title="Functional forms: pros, cons, and methods" href="functional-forms.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />



  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="../index.html">
  
  <img src="../_static/climate_estimate_logo.png" class="logo" alt="logo">
  
  
</a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>
<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
    <ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="getting-started.html">
   Introduction to the Tutorial
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Weather and Climate Data
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="weather-and-climate-data.html">
   Using Weather and Climate Data
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="working-with-data-product.html">
   How to Start Working with a Data Product
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="example-step1.html">
   Hands-On Exercise, Step 1: Preparing the Weather Data
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Developing a reduced-form specification
 </span>
</p>
<ul class="current nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="reduced-form-specification.html">
   Developing a reduced-form specification
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="functional-forms.html">
   Functional forms: pros, cons, and methods
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Hands-On Exercise, Step 2: Understanding the outcomes
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Geographical unit data
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="geographical-unit-data.html">
   Generating geographical unit data
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="working-with-shapefiles.html">
   Constructing weather averages within spatial units
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="weighting-schemes.html">
   Weighting schemes
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="example-step3.html">
   Hands-On Exercise, Step 3: Aggregating the data
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Bringing it all together
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="producing-results.html">
   Producing results
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="example-step4.html">
   Hands-On Exercise, Step 4: Producing results
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="suggestions.html">
   Suggestions for work organization
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Contributors
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="contributors.html">
   Contributors
  </a>
 </li>
</ul>

</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="row topbar fixed-top container-xl">
    <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show">
    </div>
    <div class="col pl-2 topbar-main">
        
        <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
            data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
            aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
            title="Toggle navigation" data-toggle="tooltip" data-placement="left">
            <i class="fas fa-bars"></i>
            <i class="fas fa-arrow-left"></i>
            <i class="fas fa-arrow-up"></i>
        </button>
        
        
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/content/example-step2.md"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.md</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

        <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/atrisovic/weather-panel.github.io/"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/atrisovic/weather-panel.github.io//issues/new?title=Issue%20on%20page%20%2Fcontent/example-step2.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        <a class="edit-button" href="https://github.com/atrisovic/weather-panel.github.io/edit/master/tutorial-content/content/example-step2.md"><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Edit this page"><i class="fas fa-pencil-alt"></i>suggest edit</button></a>
    </div>
</div>


        <!-- Full screen (wrap in <a> to have style consistency -->
        <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
                data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
                title="Fullscreen mode"><i
                    class="fas fa-expand"></i></button></a>

        <!-- Launch buttons -->

    </div>

    <!-- Table of contents -->
    <div class="d-none d-md-block col-md-2 bd-toc show">
        
        <div class="tocsection onthispage pt-5 pb-3">
            <i class="fas fa-list"></i> Contents
        </div>
        <nav id="bd-toc-nav">
            <ul class="nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#thinking-about-the-data-generating-process">
   Thinking about the data-generating process
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#download-the-population-data">
   Download the population data
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#downloading-the-mortality-data">
   Downloading the mortality data
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#preparing-the-mortality-data">
   Preparing the mortality data
  </a>
 </li>
</ul>

        </nav>
        
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="hands-on-exercise-step-2-understanding-the-outcomes">
<h1>Hands-On Exercise, Step 2: Understanding the outcomes<a class="headerlink" href="#hands-on-exercise-step-2-understanding-the-outcomes" title="Permalink to this headline">¶</a></h1>
<div class="section" id="thinking-about-the-data-generating-process">
<h2>Thinking about the data-generating process<a class="headerlink" href="#thinking-about-the-data-generating-process" title="Permalink to this headline">¶</a></h2>
<p>First, let us think about the process that relates mortality to
weather. Weather fluctations can have impacts on all scales, but
generally when we are thinking of heat waves killing people, it is
because of direct exposure. The main data-generating process is local.</p>
<p>It is also non-linear. Both cold and hot weather kills people,
relative to deaths at moderate (pleasant) temperatures. We can model
this with a quadratic relationship. We need to choose some baseline
temperature for comparison purposes. For our example, we will use 20
C. The dose-response function will describe excess mortality, relative
to a day with an average temperature of 20 C.</p>
<p>We also need to weight our pixel data. We want the dose-response
function to be representative of a random individual, not a random
region-year data point, so we will weight gridcells by population.</p>
<p>Finally, the mortality data we will use is annual, while the weather
data is daily. We still want to estimate a daily dose-response
function, so we will say that take sums over all days of both the
weather and outcome data. The sum over daily death data is annual
death data, which is what we have.</p>
<p>Then, we want to transform the weather data by creating two predictor
variables, for the linear and quadratic terms relative to 20 C.</p>
<div class="math notranslate nohighlight">
\[X_{1, i, y} = \sum_{t \in \text{Year}(y)} \sum_{p \in \Theta(i)} \psi_{p} (T_{p i t} - 20)\]</div>
<div class="math notranslate nohighlight">
\[X_{2, i, y} = \sum_{t \in \text{Year}(y)} \sum_{p \in \Theta(i)} \psi_{p} (T_{p i t}^2 - 20^2)\]</div>
<p>where <span class="math notranslate nohighlight">\(\psi_{p}\)</span> is the population in gridcell <span class="math notranslate nohighlight">\(p\)</span>.</p>
</div>
<div class="section" id="download-the-population-data">
<h2>Download the population data<a class="headerlink" href="#download-the-population-data" title="Permalink to this headline">¶</a></h2>
<p>We can use the gridded population data from Gridded Population of the
World, since the weather data is not very high resolution. Download it
from
<a class="reference external" href="https://sedac.ciesin.columbia.edu/data/set/gpw-v3-population-count">https://sedac.ciesin.columbia.edu/data/set/gpw-v3-population-count</a>.</p>
<p>This is global data, so it will be useful to clip it to the US and
aggregate it to the scale of the weather. We also need it in NetCDF
format, for the aggregation step. Again, this code assumes that it is
being run from a directory <code class="docutils literal notranslate"><span class="pre">code</span></code>, sister to the <code class="docutils literal notranslate"><span class="pre">data</span></code> directory.</p>
<div class="tabbed-set docutils">
<input checked="checked" id="83c7cf5c-ad10-4f9c-a995-3975d1bfce22" name="16ce03ad-a466-4c4d-8c63-f519c1c4f053" type="radio">
</input><label class="tabbed-label" for="83c7cf5c-ad10-4f9c-a995-3975d1bfce22">
R</label><div class="tabbed-content docutils">
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="nf">library</span><span class="p">(</span><span class="n">raster</span><span class="p">)</span>
<span class="n">rr</span> <span class="o">&lt;-</span> <span class="nf">raster</span><span class="p">(</span><span class="s">&quot;../data/pcount/usap90ag.bil&quot;</span><span class="p">)</span>

<span class="n">rr2</span> <span class="o">&lt;-</span> <span class="nf">aggregate</span><span class="p">(</span><span class="n">rr</span><span class="p">,</span> <span class="n">fact</span><span class="o">=</span><span class="m">24</span><span class="p">,</span> <span class="n">fun</span><span class="o">=</span><span class="n">sum</span><span class="p">)</span>
<span class="n">rr3</span> <span class="o">&lt;-</span> <span class="nf">crop</span><span class="p">(</span><span class="n">rr2</span><span class="p">,</span> <span class="nf">extent</span><span class="p">(</span><span class="m">-126</span><span class="p">,</span> <span class="m">-65</span><span class="p">,</span> <span class="m">23</span><span class="p">,</span> <span class="m">51</span><span class="p">))</span>

<span class="nf">writeRaster</span><span class="p">(</span><span class="n">rr3</span><span class="p">,</span> <span class="s">&quot;../data/pcount/usap90ag.nc4&quot;</span><span class="p">,</span>
 <span class="n">overwrite</span><span class="o">=</span><span class="kc">TRUE</span><span class="p">,</span> <span class="n">format</span><span class="o">=</span><span class="s">&quot;CDF&quot;</span><span class="p">,</span> <span class="n">varname</span><span class="o">=</span><span class="s">&quot;Population&quot;</span><span class="p">,</span> <span class="n">varunit</span><span class="o">=</span><span class="s">&quot;people&quot;</span><span class="p">,</span>
 <span class="n">xname</span><span class="o">=</span><span class="s">&quot;lon&quot;</span><span class="p">,</span> <span class="n">yname</span><span class="o">=</span><span class="s">&quot;lat&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<input id="91dbe687-5e47-499b-9d01-f6b2d3273511" name="16ce03ad-a466-4c4d-8c63-f519c1c4f053" type="radio">
</input><label class="tabbed-label" for="91dbe687-5e47-499b-9d01-f6b2d3273511">
Python</label><div class="tabbed-content docutils">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="ch">#!pip install rasterio # will work in Jupyter Notebook</span>
<span class="kn">import</span> <span class="nn">xarray</span> <span class="k">as</span> <span class="nn">xr</span>
<span class="n">rr</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">open_rasterio</span><span class="p">(</span><span class="s2">&quot;../data/pcount/usap90ag.bil&quot;</span><span class="p">)</span>
<span class="n">rr</span> <span class="o">=</span> <span class="n">rr</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">band</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Crop to US bounding box</span>
<span class="n">xmin</span> <span class="o">=</span> <span class="o">-</span><span class="mi">126</span>
<span class="n">xmax</span> <span class="o">=</span> <span class="o">-</span><span class="mi">65</span>
<span class="n">ymin</span> <span class="o">=</span> <span class="mi">23</span>
<span class="n">ymax</span> <span class="o">=</span> <span class="mi">51</span>

<span class="n">sel_lon</span> <span class="o">=</span> <span class="p">(</span><span class="n">rr</span><span class="o">.</span><span class="n">x</span> <span class="o">&gt;=</span> <span class="n">xmin</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">rr</span><span class="o">.</span><span class="n">x</span> <span class="o">&lt;=</span> <span class="n">xmax</span><span class="p">)</span>
<span class="n">sel_lat</span> <span class="o">=</span> <span class="p">(</span><span class="n">rr</span><span class="o">.</span><span class="n">y</span> <span class="o">&gt;=</span> <span class="n">ymin</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">rr</span><span class="o">.</span><span class="n">y</span> <span class="o">&lt;=</span> <span class="n">ymax</span><span class="p">)</span>
<span class="n">rr2</span> <span class="o">=</span> <span class="n">rr</span><span class="p">[</span><span class="n">sel_lat</span><span class="p">,</span> <span class="n">sel_lon</span><span class="p">]</span>

<span class="c1"># Aggregate to 1-degree cells</span>
<span class="n">rr3</span> <span class="o">=</span> <span class="n">rr2</span><span class="o">.</span><span class="n">coarsen</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">24</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">24</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>

<span class="n">rr3</span> <span class="o">=</span> <span class="n">rr3</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;lon&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;lat&#39;</span><span class="p">)</span>
<span class="n">rr3</span><span class="o">.</span><span class="n">to_dataset</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Population&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">to_netcdf</span><span class="p">(</span><span class="s2">&quot;../data/pcount/usap90ag.nc4&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="downloading-the-mortality-data">
<h2>Downloading the mortality data<a class="headerlink" href="#downloading-the-mortality-data" title="Permalink to this headline">¶</a></h2>
<p>The Compressed Mortality File (CMF) provides comprehensive,
county-scale mortality data for the United States. The data through
1988 is publically available, so we will use this for our analysis.</p>
<ol class="simple">
<li><p>Go to the CMF information page,
<a class="reference external" href="https://www.cdc.gov/nchs/data_access/cmf.htm">https://www.cdc.gov/nchs/data_access/cmf.htm</a>.</p></li>
<li><p>Under “Data Availability”, find the mortality and population files
for 1979 - 1988, and download these.</p></li>
<li><p>Unzip these files, and place the resulting text files,
<code class="docutils literal notranslate"><span class="pre">Mort7988.txt</span></code> and <code class="docutils literal notranslate"><span class="pre">Pop7988.txt</span></code> into the <code class="docutils literal notranslate"><span class="pre">data/cmf</span></code> folder.</p></li>
</ol>
<p>These files report data as fixed-width ASCII text, meaning that spans
of characters on each line represent columns of the data.</p>
<p>In the mortality data file, <code class="docutils literal notranslate"><span class="pre">Mort7988.txt</span></code>, here are the elements of
interest: Characters 1 - 5 provide the FIPS code (FIPS is a 5 digit
code uniquely identifying each county in the US). Characters 6 - 9
report the year of death. The next few columns give the race, age, and
cause of death, but we will combine results across all of
these. Characters 20 - 23 report the number of deaths that correspond
to that county, year, race, age, and cause.</p>
<p>In the population data file, <code class="docutils literal notranslate"><span class="pre">Pop7988.txt</span></code>, the lines start with FIPS
codes and years, like the mortality data. But then the age groups are
all listed on the line: starting with character 19, the population in
each of 12 age groups is reported with 8 characters per age group
number (so, the first age group, 1 - 4 year-olds, is characters 19 -
26; then 5 - 9 year-olds is reported in characters 27 - 34; and so
on).</p>
</div>
<div class="section" id="preparing-the-mortality-data">
<h2>Preparing the mortality data<a class="headerlink" href="#preparing-the-mortality-data" title="Permalink to this headline">¶</a></h2>
<p>Here we sum across all races and ages and merge the mortality and
population data.</p>
<div class="tabbed-set docutils">
<input checked="checked" id="c7f4ae4e-6412-44db-93d9-4d4d5469a70d" name="55a164f1-1d59-494d-bee5-52559e654879" type="radio">
</input><label class="tabbed-label" for="c7f4ae4e-6412-44db-93d9-4d4d5469a70d">
R</label><div class="tabbed-content docutils">
<div class="highlight-R notranslate"><div class="highlight"><pre><span></span><span class="nf">library</span><span class="p">(</span><span class="n">dplyr</span><span class="p">)</span>

<span class="n">df.mort</span> <span class="o">&lt;-</span> <span class="nf">read.fwf</span><span class="p">(</span><span class="s">&quot;../data/cmf/Mort7988.txt&quot;</span><span class="p">,</span>
   <span class="nf">c</span><span class="p">(</span><span class="m">5</span><span class="p">,</span> <span class="m">4</span><span class="p">,</span> <span class="m">10</span><span class="p">,</span> <span class="m">4</span><span class="p">),</span> <span class="n">col.names</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="s">&#39;fips&#39;</span><span class="p">,</span> <span class="s">&#39;year&#39;</span><span class="p">,</span> <span class="s">&#39;ignore&#39;</span><span class="p">,</span> <span class="s">&#39;deaths&#39;</span><span class="p">))</span>

<span class="n">df2.mort</span> <span class="o">&lt;-</span> <span class="n">df.mort</span> <span class="o">%&gt;%</span> <span class="nf">group_by</span><span class="p">(</span><span class="n">fips</span><span class="p">,</span> <span class="n">year</span><span class="p">)</span> <span class="o">%&gt;%</span> <span class="nf">summarize</span><span class="p">(</span><span class="n">deaths</span><span class="o">=</span><span class="nf">sum</span><span class="p">(</span><span class="n">deaths</span><span class="p">))</span>

<span class="n">df.pop</span> <span class="o">&lt;-</span> <span class="nf">read.fwf</span><span class="p">(</span><span class="s">&quot;../data/cmf/Pop7988.txt&quot;</span><span class="p">,</span>
   <span class="nf">c</span><span class="p">(</span><span class="m">5</span><span class="p">,</span> <span class="m">4</span><span class="p">,</span> <span class="m">9</span><span class="p">,</span> <span class="nf">rep</span><span class="p">(</span><span class="m">8</span><span class="p">,</span> <span class="m">12</span><span class="p">),</span> <span class="m">25</span><span class="p">,</span> <span class="m">1</span><span class="p">),</span> <span class="n">col.names</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="s">&#39;fips&#39;</span><span class="p">,</span> <span class="s">&#39;year&#39;</span><span class="p">,</span>
   <span class="s">&#39;ignore&#39;</span><span class="p">,</span> <span class="nf">paste0</span><span class="p">(</span><span class="s">&#39;pop&#39;</span><span class="p">,</span> <span class="m">1</span><span class="o">:</span><span class="m">12</span><span class="p">),</span> <span class="s">&#39;county&#39;</span><span class="p">,</span> <span class="s">&#39;type&#39;</span><span class="p">))</span>

<span class="n">df2.pop</span> <span class="o">&lt;-</span> <span class="n">df.pop</span> <span class="o">%&gt;%</span> <span class="nf">group_by</span><span class="p">(</span><span class="n">fips</span><span class="p">,</span> <span class="n">year</span><span class="p">)</span> <span class="o">%&gt;%</span> <span class="nf">summarize</span><span class="p">(</span><span class="n">pop</span><span class="o">=</span><span class="nf">sum</span><span class="p">(</span><span class="n">pop1</span> <span class="o">+</span>
    <span class="n">pop2</span> <span class="o">+</span> <span class="n">pop3</span> <span class="o">+</span> <span class="n">pop4</span> <span class="o">+</span> <span class="n">pop5</span> <span class="o">+</span> <span class="n">pop6</span> <span class="o">+</span> <span class="n">pop7</span> <span class="o">+</span> <span class="n">pop8</span> <span class="o">+</span> <span class="n">pop9</span> <span class="o">+</span> <span class="n">pop10</span> <span class="o">+</span>
    <span class="n">pop11</span> <span class="o">+</span> <span class="n">pop12</span><span class="p">),</span> <span class="n">type</span><span class="o">=</span><span class="n">type</span><span class="p">[</span><span class="m">1</span><span class="p">])</span>

<span class="n">df3</span> <span class="o">&lt;-</span> <span class="n">df2.pop</span> <span class="o">%&gt;%</span> <span class="nf">left_join</span><span class="p">(</span><span class="n">df2.mort</span><span class="p">,</span> <span class="n">by</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="s">&#39;fips&#39;</span><span class="p">,</span> <span class="s">&#39;year&#39;</span><span class="p">))</span>
<span class="n">df3</span><span class="o">$</span><span class="n">deaths</span><span class="p">[</span><span class="nf">is.na</span><span class="p">(</span><span class="n">df3</span><span class="o">$</span><span class="n">deaths</span><span class="p">)]</span> <span class="o">&lt;-</span> <span class="m">0</span>

<span class="n">df4</span> <span class="o">&lt;-</span> <span class="nf">subset</span><span class="p">(</span><span class="n">df3</span><span class="p">,</span> <span class="n">type</span> <span class="o">==</span> <span class="m">3</span><span class="p">)</span>

<span class="nf">write.csv</span><span class="p">(</span><span class="n">df4</span><span class="p">[,</span> <span class="o">-</span><span class="nf">which</span><span class="p">(</span><span class="nf">names</span><span class="p">(</span><span class="n">df4</span><span class="p">)</span> <span class="o">==</span> <span class="s">&#39;type&#39;</span><span class="p">)],</span> <span class="s">&quot;../data/cmf/merged.csv&quot;</span><span class="p">,</span> <span class="n">row.names</span><span class="o">=</span><span class="bp">F</span><span class="p">)</span>
</pre></div>
</div>
</div>
<input id="47c61196-fa4c-45a0-81a9-229326d2caf3" name="55a164f1-1d59-494d-bee5-52559e654879" type="radio">
</input><label class="tabbed-label" for="47c61196-fa4c-45a0-81a9-229326d2caf3">
Python</label><div class="tabbed-content docutils">
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="n">df_mort</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;../data/cmf/Mort7988.txt&quot;</span><span class="p">,</span> <span class="n">names</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;input&#39;</span><span class="p">])</span>

<span class="c1"># parse input</span>
<span class="n">df_mort2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">df_mort</span><span class="o">.</span><span class="n">input</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span>
    <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">[</span>
        <span class="n">x</span><span class="p">[</span><span class="nb">slice</span><span class="p">(</span><span class="o">*</span><span class="n">slc</span><span class="p">)]</span> <span class="k">for</span> <span class="n">slc</span> <span class="ow">in</span> <span class="p">[(</span><span class="mi">0</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">9</span><span class="p">),</span> <span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">))]])</span><span class="o">.</span><span class="n">tolist</span><span class="p">(),</span>
	<span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;fips&#39;</span><span class="p">,</span> <span class="s1">&#39;year&#39;</span><span class="p">,</span> <span class="s1">&#39;deaths&#39;</span><span class="p">])</span>

<span class="n">df_mort3</span> <span class="o">=</span> <span class="n">df_mort2</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">,</span> <span class="n">errors</span><span class="o">=</span><span class="s1">&#39;coerce&#39;</span><span class="p">)</span>

<span class="n">df_mort4</span> <span class="o">=</span> <span class="n">df_mort3</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;fips&#39;</span><span class="p">,</span> <span class="s1">&#39;year&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="n">df_mort4</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="text-align:left head"><p>fips, year</p></th>
<th class="text-align:right head"><p>deaths</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-align:left"><p>(1001, 1979)</p></td>
<td class="text-align:right"><p>225</p></td>
</tr>
<tr class="row-odd"><td class="text-align:left"><p>(1001, 1980)</p></td>
<td class="text-align:right"><p>221</p></td>
</tr>
<tr class="row-even"><td class="text-align:left"><p>(1001, 1981)</p></td>
<td class="text-align:right"><p>221</p></td>
</tr>
<tr class="row-odd"><td class="text-align:left"><p>(1001, 1982)</p></td>
<td class="text-align:right"><p>223</p></td>
</tr>
<tr class="row-even"><td class="text-align:left"><p>(1001, 1983)</p></td>
<td class="text-align:right"><p>267</p></td>
</tr>
</tbody>
</table>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">df_pop</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;../data/cmf/Pop7988.txt&quot;</span><span class="p">,</span> <span class="n">names</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;input&#39;</span><span class="p">])</span>

<span class="n">slices</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">9</span><span class="p">),</span> <span class="p">(</span><span class="mi">9</span><span class="p">,</span><span class="mi">18</span><span class="p">)]</span> <span class="o">+</span> \
         <span class="p">[(</span><span class="n">n</span><span class="p">,</span> <span class="n">n</span><span class="o">+</span><span class="mi">8</span><span class="p">)</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">18</span><span class="p">,</span> <span class="mi">114</span><span class="p">,</span> <span class="mi">8</span><span class="p">)]</span> <span class="o">+</span> \
         <span class="p">[(</span><span class="mi">114</span><span class="p">,</span> <span class="mi">139</span><span class="p">),</span> <span class="p">(</span><span class="mi">139</span><span class="p">,</span> <span class="mi">140</span><span class="p">)]</span>

<span class="c1"># parse input</span>
<span class="n">df_pop2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">df_pop</span><span class="o">.</span><span class="n">input</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span>
    <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">[</span>
        <span class="n">x</span><span class="p">[</span><span class="nb">slice</span><span class="p">(</span><span class="o">*</span><span class="n">slc</span><span class="p">)]</span> <span class="k">for</span> <span class="n">slc</span> <span class="ow">in</span> <span class="n">slices</span><span class="p">])</span><span class="o">.</span><span class="n">tolist</span><span class="p">(),</span>
	<span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;fips&#39;</span><span class="p">,</span> <span class="s1">&#39;year&#39;</span><span class="p">,</span> <span class="s1">&#39;ignore&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="s2">&quot;pop&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">13</span><span class="p">)]</span> <span class="o">+</span> <span class="p">[</span><span class="s1">&#39;county&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="p">])</span>

<span class="n">cols</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;fips&#39;</span><span class="p">,</span> <span class="s1">&#39;year&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="s2">&quot;pop&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">13</span><span class="p">)]</span> <span class="o">+</span> <span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span>
<span class="n">df_pop3</span> <span class="o">=</span> <span class="n">df_pop2</span><span class="p">[</span><span class="n">cols</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">,</span> <span class="n">errors</span><span class="o">=</span><span class="s1">&#39;coerce&#39;</span><span class="p">)</span>
<span class="n">df_pop4</span> <span class="o">=</span> <span class="n">df_pop3</span><span class="p">[</span><span class="n">df_pop3</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="mi">3</span><span class="p">]</span>

<span class="n">df_pop5</span> <span class="o">=</span> <span class="n">df_pop4</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;fips&#39;</span><span class="p">,</span> <span class="s1">&#39;year&#39;</span><span class="p">,</span> <span class="s1">&#39;type&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="n">df_pop5</span><span class="p">[</span><span class="s1">&#39;pop&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_pop5</span><span class="o">.</span><span class="n">pop1</span> <span class="o">+</span> <span class="n">df_pop5</span><span class="o">.</span><span class="n">pop2</span> <span class="o">+</span> <span class="n">df_pop5</span><span class="o">.</span><span class="n">pop3</span> <span class="o">+</span> <span class="n">df_pop5</span><span class="o">.</span><span class="n">pop4</span> <span class="o">+</span> <span class="n">df_pop5</span><span class="o">.</span><span class="n">pop5</span> <span class="o">+</span> <span class="n">df_pop5</span><span class="o">.</span><span class="n">pop6</span> <span class="o">+</span> <span class="n">df_pop5</span><span class="o">.</span><span class="n">pop7</span> <span class="o">+</span> <span class="n">df_pop5</span><span class="o">.</span><span class="n">pop8</span> <span class="o">+</span> <span class="n">df_pop5</span><span class="o">.</span><span class="n">pop9</span> <span class="o">+</span> <span class="n">df_pop5</span><span class="o">.</span><span class="n">pop10</span> <span class="o">+</span> <span class="n">df_pop5</span><span class="o">.</span><span class="n">pop11</span> <span class="o">+</span> <span class="n">df_pop5</span><span class="o">.</span><span class="n">pop12</span>

<span class="n">df_pop5</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="text-align:left head"><p>fips, year, type</p></th>
<th class="text-align:right head"><p>pop1</p></th>
<th class="text-align:right head"><p>pop2</p></th>
<th class="text-align:right head"><p>pop3</p></th>
<th class="text-align:right head"><p>pop4</p></th>
<th class="text-align:right head"><p>pop5</p></th>
<th class="text-align:right head"><p>pop6</p></th>
<th class="text-align:right head"><p>pop7</p></th>
<th class="text-align:right head"><p>pop8</p></th>
<th class="text-align:right head"><p>pop9</p></th>
<th class="text-align:right head"><p>pop10</p></th>
<th class="text-align:right head"><p>pop11</p></th>
<th class="text-align:right head"><p>pop12</p></th>
<th class="text-align:right head"><p>pop</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-align:left"><p>(1001, 1979, 3)</p></td>
<td class="text-align:right"><p>2022</p></td>
<td class="text-align:right"><p>2982</p></td>
<td class="text-align:right"><p>3248</p></td>
<td class="text-align:right"><p>3491</p></td>
<td class="text-align:right"><p>2640</p></td>
<td class="text-align:right"><p>4414</p></td>
<td class="text-align:right"><p>4211</p></td>
<td class="text-align:right"><p>3310</p></td>
<td class="text-align:right"><p>2457</p></td>
<td class="text-align:right"><p>1813</p></td>
<td class="text-align:right"><p>779</p></td>
<td class="text-align:right"><p>178</p></td>
<td class="text-align:right"><p>31545</p></td>
</tr>
<tr class="row-odd"><td class="text-align:left"><p>(1001, 1980, 3)</p></td>
<td class="text-align:right"><p>2021</p></td>
<td class="text-align:right"><p>2952</p></td>
<td class="text-align:right"><p>3184</p></td>
<td class="text-align:right"><p>3495</p></td>
<td class="text-align:right"><p>2663</p></td>
<td class="text-align:right"><p>4463</p></td>
<td class="text-align:right"><p>4293</p></td>
<td class="text-align:right"><p>3373</p></td>
<td class="text-align:right"><p>2487</p></td>
<td class="text-align:right"><p>1848</p></td>
<td class="text-align:right"><p>795</p></td>
<td class="text-align:right"><p>181</p></td>
<td class="text-align:right"><p>31755</p></td>
</tr>
<tr class="row-even"><td class="text-align:left"><p>(1001, 1981, 3)</p></td>
<td class="text-align:right"><p>2037</p></td>
<td class="text-align:right"><p>2776</p></td>
<td class="text-align:right"><p>3132</p></td>
<td class="text-align:right"><p>3320</p></td>
<td class="text-align:right"><p>2664</p></td>
<td class="text-align:right"><p>4646</p></td>
<td class="text-align:right"><p>4210</p></td>
<td class="text-align:right"><p>3330</p></td>
<td class="text-align:right"><p>2516</p></td>
<td class="text-align:right"><p>1829</p></td>
<td class="text-align:right"><p>824</p></td>
<td class="text-align:right"><p>192</p></td>
<td class="text-align:right"><p>31476</p></td>
</tr>
<tr class="row-odd"><td class="text-align:left"><p>(1001, 1982, 3)</p></td>
<td class="text-align:right"><p>2042</p></td>
<td class="text-align:right"><p>2707</p></td>
<td class="text-align:right"><p>3098</p></td>
<td class="text-align:right"><p>3190</p></td>
<td class="text-align:right"><p>2651</p></td>
<td class="text-align:right"><p>4714</p></td>
<td class="text-align:right"><p>4343</p></td>
<td class="text-align:right"><p>3327</p></td>
<td class="text-align:right"><p>2565</p></td>
<td class="text-align:right"><p>1835</p></td>
<td class="text-align:right"><p>856</p></td>
<td class="text-align:right"><p>201</p></td>
<td class="text-align:right"><p>31529</p></td>
</tr>
<tr class="row-even"><td class="text-align:left"><p>(1001, 1983, 3)</p></td>
<td class="text-align:right"><p>2044</p></td>
<td class="text-align:right"><p>2670</p></td>
<td class="text-align:right"><p>3054</p></td>
<td class="text-align:right"><p>3063</p></td>
<td class="text-align:right"><p>2625</p></td>
<td class="text-align:right"><p>4815</p></td>
<td class="text-align:right"><p>4408</p></td>
<td class="text-align:right"><p>3325</p></td>
<td class="text-align:right"><p>2613</p></td>
<td class="text-align:right"><p>1833</p></td>
<td class="text-align:right"><p>882</p></td>
<td class="text-align:right"><p>215</p></td>
<td class="text-align:right"><p>31547</p></td>
</tr>
</tbody>
</table>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">df_pop5</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">df_mort4</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;fips&#39;</span><span class="p">,</span> <span class="s1">&#39;year&#39;</span><span class="p">])</span>
<span class="n">df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s2">&quot;../data/cmf/merged.csv&quot;</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>The final dataset (<code class="docutils literal notranslate"><span class="pre">merged.csv</span></code>) should look like:</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="text-align:left head"><p>fips, year</p></th>
<th class="text-align:right head"><p>pop1</p></th>
<th class="text-align:right head"><p>pop2</p></th>
<th class="text-align:right head"><p>pop3</p></th>
<th class="text-align:right head"><p>pop4</p></th>
<th class="text-align:right head"><p>pop5</p></th>
<th class="text-align:right head"><p>pop6</p></th>
<th class="text-align:right head"><p>pop7</p></th>
<th class="text-align:right head"><p>pop8</p></th>
<th class="text-align:right head"><p>pop9</p></th>
<th class="text-align:right head"><p>pop10</p></th>
<th class="text-align:right head"><p>pop11</p></th>
<th class="text-align:right head"><p>pop12</p></th>
<th class="text-align:right head"><p>pop</p></th>
<th class="text-align:right head"><p>deaths</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-align:left"><p>(1001, 1979)</p></td>
<td class="text-align:right"><p>2022</p></td>
<td class="text-align:right"><p>2982</p></td>
<td class="text-align:right"><p>3248</p></td>
<td class="text-align:right"><p>3491</p></td>
<td class="text-align:right"><p>2640</p></td>
<td class="text-align:right"><p>4414</p></td>
<td class="text-align:right"><p>4211</p></td>
<td class="text-align:right"><p>3310</p></td>
<td class="text-align:right"><p>2457</p></td>
<td class="text-align:right"><p>1813</p></td>
<td class="text-align:right"><p>779</p></td>
<td class="text-align:right"><p>178</p></td>
<td class="text-align:right"><p>31545</p></td>
<td class="text-align:right"><p>225</p></td>
</tr>
<tr class="row-odd"><td class="text-align:left"><p>(1001, 1980)</p></td>
<td class="text-align:right"><p>2021</p></td>
<td class="text-align:right"><p>2952</p></td>
<td class="text-align:right"><p>3184</p></td>
<td class="text-align:right"><p>3495</p></td>
<td class="text-align:right"><p>2663</p></td>
<td class="text-align:right"><p>4463</p></td>
<td class="text-align:right"><p>4293</p></td>
<td class="text-align:right"><p>3373</p></td>
<td class="text-align:right"><p>2487</p></td>
<td class="text-align:right"><p>1848</p></td>
<td class="text-align:right"><p>795</p></td>
<td class="text-align:right"><p>181</p></td>
<td class="text-align:right"><p>31755</p></td>
<td class="text-align:right"><p>221</p></td>
</tr>
<tr class="row-even"><td class="text-align:left"><p>(1001, 1981)</p></td>
<td class="text-align:right"><p>2037</p></td>
<td class="text-align:right"><p>2776</p></td>
<td class="text-align:right"><p>3132</p></td>
<td class="text-align:right"><p>3320</p></td>
<td class="text-align:right"><p>2664</p></td>
<td class="text-align:right"><p>4646</p></td>
<td class="text-align:right"><p>4210</p></td>
<td class="text-align:right"><p>3330</p></td>
<td class="text-align:right"><p>2516</p></td>
<td class="text-align:right"><p>1829</p></td>
<td class="text-align:right"><p>824</p></td>
<td class="text-align:right"><p>192</p></td>
<td class="text-align:right"><p>31476</p></td>
<td class="text-align:right"><p>221</p></td>
</tr>
<tr class="row-odd"><td class="text-align:left"><p>(1001, 1982)</p></td>
<td class="text-align:right"><p>2042</p></td>
<td class="text-align:right"><p>2707</p></td>
<td class="text-align:right"><p>3098</p></td>
<td class="text-align:right"><p>3190</p></td>
<td class="text-align:right"><p>2651</p></td>
<td class="text-align:right"><p>4714</p></td>
<td class="text-align:right"><p>4343</p></td>
<td class="text-align:right"><p>3327</p></td>
<td class="text-align:right"><p>2565</p></td>
<td class="text-align:right"><p>1835</p></td>
<td class="text-align:right"><p>856</p></td>
<td class="text-align:right"><p>201</p></td>
<td class="text-align:right"><p>31529</p></td>
<td class="text-align:right"><p>223</p></td>
</tr>
<tr class="row-even"><td class="text-align:left"><p>(1001, 1983)</p></td>
<td class="text-align:right"><p>2044</p></td>
<td class="text-align:right"><p>2670</p></td>
<td class="text-align:right"><p>3054</p></td>
<td class="text-align:right"><p>3063</p></td>
<td class="text-align:right"><p>2625</p></td>
<td class="text-align:right"><p>4815</p></td>
<td class="text-align:right"><p>4408</p></td>
<td class="text-align:right"><p>3325</p></td>
<td class="text-align:right"><p>2613</p></td>
<td class="text-align:right"><p>1833</p></td>
<td class="text-align:right"><p>882</p></td>
<td class="text-align:right"><p>215</p></td>
<td class="text-align:right"><p>31547</p></td>
<td class="text-align:right"><p>267</p></td>
</tr>
</tbody>
</table>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./content"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        </div>
    </div>
    
    
    <div class='prev-next-bottom'>
        
    <a class='left-prev' id="prev-link" href="functional-forms.html" title="previous page">Functional forms: pros, cons, and methods</a>
    <a class='right-next' id="next-link" href="geographical-unit-data.html" title="next page">Generating geographical unit data</a>

    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
            &copy; Copyright 2020.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    
  <script src="../_static/js/index.3da636dd464baa7582d2.js"></script>


    
  </body>
</html>